â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 HÆ¯á»šNG DáºªN TEST USER & ADMIN FLOW                     â•‘
â•‘                    Route Analytics Dashboard                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ CHUáº¨N Bá»Š:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Server Ä‘ang cháº¡y táº¡i: http://localhost:5000
2. Database cÃ³ 2 users:
   â€¢ Admin: username "admin" / password (tÃ¹y há»‡ thá»‘ng)
   â€¢ Customer: username "demo" / password (tÃ¹y há»‡ thá»‘ng)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PHáº¦N 1: TEST USER (CUSTOMER) - PLAN ROUTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ¯á»šC 1: LOGIN AS CUSTOMER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Má»Ÿ browser: http://localhost:5000/auth/login
2. Nháº­p:
   Username: demo
   Password: (password cá»§a demo user)
3. Click "ÄÄƒng nháº­p"
4. âœ… ÄÆ°á»£c redirect vá» trang chá»§ hoáº·c user dashboard

BÆ¯á»šC 2: Má» TRANG Láº¬P Káº¾ HOáº CH
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. VÃ o menu â†’ Click "Láº­p Káº¿ Hoáº¡ch" (hoáº·c Plan Trip icon ğŸ—ºï¸)
2. Hoáº·c truy cáº­p trá»±c tiáº¿p: http://localhost:5000/trips/plan
3. âœ… Trang hiá»ƒn thá»‹ báº£n Ä‘á»“ vÃ  form nháº­p Ä‘á»‹a chá»‰

BÆ¯á»šC 3: NHáº¬P ADDRESSES & PLAN ROUTE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Nháº­p Ä‘á»‹a chá»‰ xuáº¥t phÃ¡t:
   â†’ "Báº¿n ThÃ nh Market"
   â†’ Hoáº·c: "Notre-Dame Cathedral"
   â†’ Hoáº·c: "Saigon Central Post Office"

2. Nháº­p Ä‘á»‹a chá»‰ Ä‘áº¿n:
   â†’ "TÃ¢n SÆ¡n Nháº¥t Airport"
   â†’ Hoáº·c: "District 7, HCMC"
   â†’ Hoáº·c: "Thu Duc City"

3. Click nÃºt "TÃ­nh toÃ¡n route"

4. âœ… CHá»œ Káº¾T QUáº¢:
   - Spinner hiá»ƒn thá»‹ "Äang tÃ­nh toÃ¡n..."
   - OSRM API Ä‘Æ°á»£c gá»i
   - Route váº½ trÃªn map (Ä‘Æ°á»ng mÃ u xanh/Ä‘á»)
   - Hiá»ƒn thá»‹ thÃ´ng tin: khoáº£ng cÃ¡ch, thá»i gian, giÃ¡

BÆ¯á»šC 4: KIá»‚M TRA CONSOLE (QUAN TRá»ŒNG!)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Má»Ÿ Developer Tools (F12)
2. VÃ o tab "Console"
3. âœ… TÃŒM MESSAGES:
   [OptimizeRoute] Request: (lat, lng) -> (lat, lng)
   [OptimizeRoute] Result: X.XX km, YY min
   [Analytics] Route logged: ID=N  â† QUAN TRá»ŒNG!

4. âœ… TÃŒM NETWORK REQUEST:
   - Tab Network â†’ Filter: XHR
   - Request: POST /trips/api/optimize-route
   - Status: 200 OK
   - Response chá»©a: distance_km, path, estimated_cost

BÆ¯á»šC 5: TEST THÃŠM (TÃ™Y CHá»ŒN)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Plan thÃªm 2-3 routes khÃ¡c nhau
- Thá»­ cÃ¡c Ä‘á»‹a Ä‘iá»ƒm khÃ¡c nhau
- Má»—i route sáº½ tá»± Ä‘á»™ng logged vÃ o database


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PHáº¦N 2: TEST ADMIN - VIEW ANALYTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ¯á»šC 1: LOGOUT & LOGIN AS ADMIN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Click "ÄÄƒng xuáº¥t" (náº¿u Ä‘ang login as customer)
2. Quay láº¡i: http://localhost:5000/auth/login
3. Nháº­p:
   Username: admin
   Password: (password admin)
4. Click "ÄÄƒng nháº­p"
5. âœ… Redirect vá» Admin Dashboard

BÆ¯á»šC 2: Má» ROUTE ANALYTICS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CÃCH 1: Qua Menu
   â†’ Click navbar "ITS Analytics"
   â†’ Chá»n "Route Analytics" (icon chart-line)

CÃCH 2: Qua Dashboard Card
   â†’ Táº¡i Admin Dashboard
   â†’ Click card "Route Analytics TIER 1"

CÃCH 3: Direct URL
   â†’ http://localhost:5000/admin/route-analytics

BÆ¯á»šC 3: KIá»‚M TRA STATS CARDS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Trang sáº½ load vÃ  hiá»ƒn thá»‹ 4 cards:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tá»•ng Routes        â”‚  â”‚  Khoáº£ng cÃ¡ch TB     â”‚
â”‚  [Sá» ROUTES]        â”‚  â”‚  [X.XX] km          â”‚
â”‚  +X% vs tuáº§n trÆ°á»›c  â”‚  â”‚  km / route         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Thá»i gian TB       â”‚  â”‚  Routes cÃ³ Hazard   â”‚
â”‚  [YY] phÃºt          â”‚  â”‚  [Z]                â”‚
â”‚  phÃºt / route       â”‚  â”‚  XX% of total       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… XÃC NHáº¬N:
- Sá»‘ routes pháº£i > 0 (cÃ³ dá»¯ liá»‡u test)
- Stats pháº£i hiá»ƒn thá»‹ Ä‘Ãºng
- KhÃ´ng cÃ³ lá»—i "Failed to fetch"

BÆ¯á»šC 4: KIá»‚M TRA CHARTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. ROUTES THEO THá»œI GIAN (Line Chart):
   âœ… Trá»¥c X: NgÃ y (format dd/mm)
   âœ… Trá»¥c Y: Sá»‘ routes
   âœ… ÄÆ°á»ng chart mÃ u xanh

2. THUáº¬T TOÃN ROUTING (Doughnut Chart):
   âœ… OSRM: [XX%] (mÃ u xanh lÃ¡)
   âœ… A*: [YY%] (mÃ u xanh dÆ°Æ¡ng)
   âœ… Legend hiá»ƒn thá»‹ Ä‘Ãºng

3. TOP 10 ÄIá»‚M XUáº¤T PHÃT (Horizontal Bar):
   âœ… Bars mÃ u xanh lÃ¡
   âœ… Hiá»ƒn thá»‹ top locations

4. TOP 10 ÄIá»‚M Äáº¾N (Horizontal Bar):
   âœ… Bars mÃ u Ä‘á»
   âœ… Hiá»ƒn thá»‹ destinations

BÆ¯á»šC 5: KIá»‚M TRA TABLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. TOP 20 ROUTES PHá»” BIáº¾N:
   â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚# â”‚ Tá»«          â”‚ Äáº¿n         â”‚Sá»‘ láº§n  â”‚K.cÃ¡ch TB â”‚T.gian TB â”‚Hazards â”‚
   â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚1 â”‚Báº¿n ThÃ nh... â”‚TÃ¢n SÆ¡n...   â”‚   2    â”‚  8.50 km â”‚  15 phÃºt â”‚   -    â”‚
   â”‚2 â”‚District 1.. â”‚District 7.. â”‚   1    â”‚ 12.30 km â”‚  25 phÃºt â”‚   âš ï¸1  â”‚
   â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   âœ… TÃ¬m route báº¡n vá»«a plan á»Ÿ PHáº¦N 1
   âœ… Count pháº£i match vá»›i sá»‘ láº§n báº¡n plan route Ä‘Ã³

2. HAZARD ZONE IMPACT:
   - Chá»‰ hiá»ƒn thá»‹ náº¿u cÃ³ hazard zones active
   - Show zones affected vÃ  % routes

BÆ¯á»šC 6: TEST DATE FILTER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Thá»­ thay Ä‘á»•i dropdown "Khoáº£ng thá»i gian":
   â†’ 7 ngÃ y qua
   â†’ 30 ngÃ y qua (default)
   â†’ 90 ngÃ y qua
   â†’ Táº¥t cáº£

2. Click nÃºt "Cáº­p nháº­t"

3. âœ… XÃC NHáº¬N:
   - Charts update vá»›i data má»›i
   - Stats cards thay Ä‘á»•i
   - Tables refresh


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PHáº¦N 3: VERIFY FULL CYCLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEST 1: PLAN ROUTE â†’ SEE IN ANALYTICS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Note sá»‘ routes hiá»‡n táº¡i trong Admin Analytics
2. Switch vá» Customer account (hoáº·c má»Ÿ incognito tab)
3. Plan 1 route má»›i vá»›i Ä‘á»‹a Ä‘iá»ƒm rÃµ rÃ ng
4. Check console tháº¥y "[Analytics] Route logged"
5. Switch vá» Admin account
6. Refresh Analytics page
7. âœ… Sá»‘ routes tÄƒng +1
8. âœ… Route má»›i xuáº¥t hiá»‡n trong Top Routes table

TEST 2: MULTIPLE ROUTES FROM SAME LOCATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Plan 3 routes tá»« "Báº¿n ThÃ nh Market" Ä‘áº¿n 3 nÆ¡i khÃ¡c nhau
2. Check Admin Analytics
3. âœ… "Báº¿n ThÃ nh Market" xuáº¥t hiá»‡n á»Ÿ Top Start Locations
4. âœ… Count = 3 hoáº·c nhiá»u hÆ¡n

TEST 3: ALGORITHM TRACKING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Plan routes vá»›i Ä‘á»‹a Ä‘iá»ƒm cÃ³ tháº­t (sá»­ dá»¥ng OSRM)
2. Check Analytics
3. âœ… Algorithm Chart pháº£i show OSRM chiáº¿m Ä‘a sá»‘ (>70%)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ Lá»–I: "Failed to fetch analytics"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’ Check Flask console cÃ³ lá»—i Python khÃ´ng
â†’ Verify server Ä‘ang cháº¡y
â†’ Check browser console tab Network â†’ response error
â†’ SOLUTION: ÄÃ£ fix (severity_level â†’ severity)

âŒ Lá»–I: "Lá»—i táº£i dá»¯ liá»‡u analytics"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’ Check API endpoint: GET /admin/api/route-analytics?days=30
â†’ Check database cÃ³ table route_history khÃ´ng
â†’ SOLUTION: Run `python create_route_history_table.py`

âŒ Lá»–I: Charts khÃ´ng hiá»ƒn thá»‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’ Check browser console cÃ³ lá»—i Chart.js khÃ´ng
â†’ Verify CDN Chart.js load Ä‘Æ°á»£c
â†’ Check data cÃ³ tráº£ vá» tá»« API khÃ´ng

âŒ Lá»–I: KhÃ´ng tháº¥y "[Analytics] Route logged"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’ Check Flask console (server terminal)
â†’ Verify route planning thÃ nh cÃ´ng
â†’ Check RouteHistory table trong database

âŒ Lá»–I: 403 Unauthorized khi access /admin/route-analytics
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â†’ Verify Ä‘ang login as admin (not customer)
â†’ Check user role = 'admin' trong database


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  QUICK COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Test flow hoÃ n chá»‰nh
python test_user_admin_flow.py

# Táº¡o test data
python test_route_analytics.py

# Verify database
python create_route_history_table.py

# Check API directly
python test_analytics_api.py


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CREDENTIALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ADMIN:
  URL: http://localhost:5000/auth/login
  Username: admin
  Password: (check your database)

CUSTOMER:
  URL: http://localhost:5000/auth/login
  Username: demo
  Password: (check your database)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  EXPECTED RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… User cÃ³ thá»ƒ plan routes dá»… dÃ ng
âœ… Routes tá»± Ä‘á»™ng logged (khÃ´ng cáº§n action gÃ¬)
âœ… Admin tháº¥y táº¥t cáº£ routes Ä‘Ã£ plan
âœ… Stats chÃ­nh xÃ¡c vÃ  real-time
âœ… Charts Ä‘áº¹p, dá»… hiá»ƒu
âœ… Filter date hoáº¡t Ä‘á»™ng tá»‘t
âœ… KhÃ´ng cÃ³ conflicts vá»›i features khÃ¡c


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             âœ… COMPLETE! Giá» test thá»­ nhÃ©! ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
